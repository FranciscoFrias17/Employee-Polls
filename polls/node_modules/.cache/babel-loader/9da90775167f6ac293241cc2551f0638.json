{"ast":null,"code":"import { getInitialData, saveQuestionAnswer } from \"../utils/api\";\nimport { receiveQuestions, savePollAnswer } from \"./questions\";\nimport { receiveUsers, addAnswerToUser } from \"./users\";\nimport { showLoading, hideLoading } from \"react-redux-loading-bar\";\nexport function handleInitialData() {\n  return async dispatch => {\n    dispatch(showLoading());\n    return await getInitialData().then(_ref => {\n      let {\n        users,\n        questions\n      } = _ref;\n      dispatch(receiveUsers(users));\n      dispatch(receiveQuestions(questions));\n      dispatch(hideLoading());\n    });\n  };\n}\nexport function handleSaveQuestionAnswer(info) {\n  return async dispatch => {\n    dispatch(showLoading());\n    dispatch(addAnswerToUser(info));\n    dispatch(savePollAnswer(info));\n    return await saveQuestionAnswer(info).catch(e => {\n      dispatch(savePollAnswer(info));\n      dispatch(addAnswerToUser(info));\n      console.warn(\"Error in handleSaveQuestionAnswer: \", e);\n    });\n  };\n}","map":{"version":3,"names":["getInitialData","saveQuestionAnswer","receiveQuestions","savePollAnswer","receiveUsers","addAnswerToUser","showLoading","hideLoading","handleInitialData","dispatch","then","users","questions","handleSaveQuestionAnswer","info","catch","e","console","warn"],"sources":["C:/Users/Cisco/Desktop/Employee-Polls/polls/src/actions/shared.js"],"sourcesContent":["import { getInitialData, saveQuestionAnswer } from \"../utils/api\";\r\nimport { receiveQuestions, savePollAnswer } from \"./questions\";\r\nimport { receiveUsers, addAnswerToUser } from \"./users\";\r\nimport { showLoading, hideLoading } from \"react-redux-loading-bar\";\r\n\r\nexport function handleInitialData() {\r\n  return async (dispatch) => {\r\n    dispatch(showLoading());\r\n\r\n    return await getInitialData().then(({ users, questions }) => {\r\n      dispatch(receiveUsers(users));\r\n      dispatch(receiveQuestions(questions));\r\n      dispatch(hideLoading());\r\n    });\r\n  };\r\n}\r\n\r\nexport function handleSaveQuestionAnswer(info) {\r\n  return async (dispatch) => {\r\n    dispatch(showLoading());\r\n    dispatch(addAnswerToUser(info));\r\n    dispatch(savePollAnswer(info));\r\n\r\n    return await saveQuestionAnswer(info).catch((e) => {\r\n      dispatch(savePollAnswer(info));\r\n      dispatch(addAnswerToUser(info));\r\n      console.warn(\"Error in handleSaveQuestionAnswer: \", e);\r\n    });\r\n  };\r\n}\r\n"],"mappings":"AAAA,SAASA,cAAT,EAAyBC,kBAAzB,QAAmD,cAAnD;AACA,SAASC,gBAAT,EAA2BC,cAA3B,QAAiD,aAAjD;AACA,SAASC,YAAT,EAAuBC,eAAvB,QAA8C,SAA9C;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,yBAAzC;AAEA,OAAO,SAASC,iBAAT,GAA6B;EAClC,OAAO,MAAOC,QAAP,IAAoB;IACzBA,QAAQ,CAACH,WAAW,EAAZ,CAAR;IAEA,OAAO,MAAMN,cAAc,GAAGU,IAAjB,CAAsB,QAA0B;MAAA,IAAzB;QAAEC,KAAF;QAASC;MAAT,CAAyB;MAC3DH,QAAQ,CAACL,YAAY,CAACO,KAAD,CAAb,CAAR;MACAF,QAAQ,CAACP,gBAAgB,CAACU,SAAD,CAAjB,CAAR;MACAH,QAAQ,CAACF,WAAW,EAAZ,CAAR;IACD,CAJY,CAAb;EAKD,CARD;AASD;AAED,OAAO,SAASM,wBAAT,CAAkCC,IAAlC,EAAwC;EAC7C,OAAO,MAAOL,QAAP,IAAoB;IACzBA,QAAQ,CAACH,WAAW,EAAZ,CAAR;IACAG,QAAQ,CAACJ,eAAe,CAACS,IAAD,CAAhB,CAAR;IACAL,QAAQ,CAACN,cAAc,CAACW,IAAD,CAAf,CAAR;IAEA,OAAO,MAAMb,kBAAkB,CAACa,IAAD,CAAlB,CAAyBC,KAAzB,CAAgCC,CAAD,IAAO;MACjDP,QAAQ,CAACN,cAAc,CAACW,IAAD,CAAf,CAAR;MACAL,QAAQ,CAACJ,eAAe,CAACS,IAAD,CAAhB,CAAR;MACAG,OAAO,CAACC,IAAR,CAAa,qCAAb,EAAoDF,CAApD;IACD,CAJY,CAAb;EAKD,CAVD;AAWD"},"metadata":{},"sourceType":"module"}